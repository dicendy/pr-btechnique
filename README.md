# Construction Equipment Manager

## Описание проекта

Программа для учёта парка строительной техники, разработанная в рамках курсовой работы.

**Автор:** Дищенко Дмитрий Игоревич  
**ВУЗ:** МГСУ  
**Факультет:** ИЦТМС  
**Группа:** 2-1

## Выполнение технического задания

### Полное выполнение (пункты 1-25 ТЗ):

**п.1** - Программа написана на C++ с использованием Qt6  
**п.2** - Работа с текстовым файлом (БД):
- I. Чтение файла
- II. Запись файла  
- III. Вывод содержимого файла
- IV. Добавление записи
- V. Редактирование записи
- VI. Удаление записи

**п.3** - 25 записей с 8 параметрами каждая (см. sample_data.db)  
**п.4** - Защита от поврежденных файлов (заголовок CONSTRUCTION_DB_HEADER)  
**п.5** - Полная документация Doxygen  
**п.6** - Главное окно + диалоговые окна  
**п.7** - Простое меню для обработки данных  
**п.8** - Адаптивный интерфейс (layouts)  
**п.9-10** - Диалог "О программе" с авторством  
**п.11** - Валидаторы и маски ввода  
**п.12** - Система переводов Qt (tr())  
**п.13** - Item based объекты (QAbstractTableModel)  
**п.14** - Контейнеры Qt (QVector)  
**п.15** - Паттерн MVC  
**п.16** - Многоязычность (русский, английский, немецкий)  
**п.17** - Поиск по столбцам  
**п.18** - Сортировка по заголовкам  
**п.19** - Контекстное меню  
**п.20** - Сохранение настроек интерфейса  
**п.21** - Работа с несколькими файлами  
**п.22** - Фильтрация и сортировка  
**п.23** - Drag-and-drop  
**п.24** - Печать данных  
**п.25** - Графики по параметрам  

## Структура проекта

```
pr-btechnique/
|- main.cpp                  # Главный файл приложения с функцией main()
|- equipment.h/.cpp          # Класс Equipment - модель данных для единицы техники (8 параметров)
|- equipmentmodel.h/.cpp     # EquipmentModel - модель данных для QTableView (паттерн MVC)
|- equipmentdelegate.h/.cpp  # EquipmentDelegate - делегат для редактирования ячеек с валидацией
|- mainwindow.h/.cpp/.ui     # MainWindow - главное окно приложения (View в MVC)
|- addeditdialog.h/.cpp/.ui  # Диалог добавления/редактирования записей
|- aboutdialog.h/.cpp/.ui    # Диалог "О программе" с информацией об авторе
|- chartdialog.h/.cpp/.ui    # Диалог отображения графиков по параметрам
|- settings.h/.cpp/.ui       # Диалог настроек приложения
|- printservice.h/.cpp       # Сервис печати данных
|- sample_data.db            # Файл с тестовыми данными (25 записей)
|- CMakeLists.txt            # Конфигурация сборки CMake
|- Doxyfile                  # Конфигурация для генерации документации Doxygen
|- README.md                 # Описание проекта и инструкции
|- TZ.txt                    # Техническое задание (31 пункт)
|_ translations/             # Файлы переводов для многоязычности
    |- app_ru.ts/.qm         # Русский перевод
    |- app_en.ts/.qm         # Английский перевод
    |_ app_de.ts/.qm         # Немецкий перевод
```

## Зависимости

- **Qt6** (Core, Widgets, PrintSupport, Charts) - основной фреймворк
- **CMake 3.16+** - система сборки
- **C++17** компилятор
- **Doxygen** - для генерации документации

## Использование

1. Запустите приложение
2. Откройте файл sample_data.db для просмотра тестовых данных
3. Используйте меню для добавления, редактирования, удаления записей
4. Применяйте фильтры и сортировку в таблице
5. Просматривайте графики через меню View ? Show Chart
6. Настраивайте язык через меню Settings ? Language

## Техническая информация

### 8 параметров строительной техники:
1. **ID** - уникальный идентификатор
2. **Model** - модель техники  
3. **Type** - тип (Excavator, Bulldozer, Crane, Loader, Grader, Other)
4. **Year** - год выпуска (1950-текущий год)
5. **Registration Number** - регистрационный номер (формат: А111ВВ)
6. **Operating Hours** - наработка в моточасах
7. **Condition** - состояние (Excellent, Good, Satisfactory, Poor, Critical)
8. **Last Maintenance** - дата последнего технического обслуживания

### Архитектурные решения:
- **MVC паттерн**: EquipmentModel (Model), MainWindow (View), слоты (Controller)
- **Drag-and-drop**: перетаскивание файлов между документами
- **Интернационализация**: система переводов Qt с файлами .qm/.ts
- **Валидация**: регулярные выражения для номеров, валидаторы для дат и чисел
- **Фильтрация**: множественный выбор значений по столбцам
- **Печать**: экспорт таблицы в принтер с форматированием
- **Графики**: Qt Charts для визуализации данных по состоянию и типам техники

### Особенности реализации:
- Защита от поврежденных файлов через заголовок CONSTRUCTION_DB_HEADER
- Автосохранение настроек интерфейса (позиция окна, язык)
- Контекстное меню для быстрого доступа к операциям
- Адаптивный интерфейс, корректно работающий при изменении размеров окна
- Поддержка работы с несколькими файлами одновременно
- Полная документация кода для Doxygen